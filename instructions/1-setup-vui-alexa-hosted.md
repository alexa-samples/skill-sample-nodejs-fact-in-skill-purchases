# スキル内課金を実装したAlexaスキルのビルド - プレミアムトリビア

<img src="https://m.media-amazon.com/images/G/01/mobile-apps/dex/alexa/alexa-skills-kit/tutorials/quiz-game/header._TTH_.png" />


Alexa-Hosted スキルを使うと、開発者コンソールから離れることなく、スキルのビルド、編集、公開できます。

Alexa-Hostedスキルが提供するサービスの詳細については、新しいタブを開き、[こちら](https://developer.amazon.com/docs/hosted-skills/build-a-skill-end-to-end-using-an-alexa-hosted-skill.html)を参照してください。


### 手順
1.  **[Alexaの開発者ポータル](https://developer.amazon.com/ja/alexa)** を開き、画面右上の「ログイン」をクリックします。
(開発者アカウントをお持ちでない場合は、**[Amazon Developerアカウントを作成]ボタンをクリックせず**、お手持ちのAmazonアカウントでログインします。詳しい理由は[こちら](https://developer.amazon.com/ja/blogs/alexa/post/9f852a38-3a44-48bd-b78f-22050269d7c7/hamaridokoro)を参照してください。)


2. サインインしたら、上の「Alexa」メニューにマウスオーバーして、**Alexa Skills Kit**をクリックします。

3.  **Alexa 開発者コンソール** が開いたら、右上の **「スキル作成」** ボタンをクリックします。

4. **スキル名**を入力します。この名前はスキルを公開する際、スキルストアに表示され、ユーザーが参照する名前になります。デフォルトの言語は**日本語**を選択します。

5. **スキルに追加するモデル**は**カスタム**を選択します。

6. **スキルのバックエンドリソースをホスティングする方法を選択** では、**Alexaがホスト**を選択します。スクロールして画面の上の方まで戻り、**スキルを作成**ボタンをクリックします。
これには数分かかる場合があります。作成が完了するとコンソールの**ビルド**タブに遷移します。

7. **スキルの対話モデルを作成する**
	1. 左のナビゲーションパネルの**対話モデル**のグループの一番下にある**JSONエディター**をクリックします。画面中央に大きなテキストエディターが表示されます。そこに **models** フォルダの下の[ja-JP.json](https://github.com/alexa/skill-sample-nodejs-fact-in-skill-purchases/blob/ja-JP/models/ja-JP.json) のコードを丸ごとコピーして、ここに上書きペーストして置き換えます。置き換えたら**モデルを保存**ボタンをクリックします。
    2. スキルの呼び出し名を変えたい場合は、**呼び出し名**タブを選択します。(呼び出し名とは、ユーザーがスキルを呼び出す際に使うフレーズのことです。ユーザーは「アレクサ、<起動フレーズ>を開いて」のように話しかけてスキルを起動します。)
    3. **モデルをビルド** をクリックします。

	**補足** コピーしたJSON形式の対話モデルに基づいて、インテントやスロットタイプなどが自動的に反映されていることに気づいたでしょうか。ここで対話モデルがどのような設定になっているかをしばらく探索してみてください。インテント、スロット、発話などについて詳しく知りたい場合は、新しいタブを開いて[技術文書:インテント、発話、スロットの作成](https://developer.amazon.com/ja/docs/custom-skills/create-intents-utterances-and-slots.html)を参照してください。

8. **オプション** 左のナビゲーションパネルの**インテント**をクリックして拡張してください。いくつかのサンプル発話が既に入力されています。さらにサンプル発話を追加してみましょう。特定のインテントを呼び出すのに、ユーザーはどのような言い回しでリクエストするかを考えてみましょう。
モデルに何か変更を加えたら、必ず**モデルを保存**と**モデルをビルド**をクリックしてください。

9. モデルのビルドに成功したら、次のステップに進みます。ビルドに失敗した場合は、エラーメッセージを参考にトラブルシューティングを行ってください。次のステップでは、プログラムコードを作成します。

     対話モデルにエラーがある場合は、以下のリストをチェックしてみてください。

     *  **GitHubのコードから正しくコピー&ペーストしましたか？**
     *  **対話モデルやサンプル発話の中に、意図しない文字や、使用できない文字(絵文字、記号など)が紛れ込んでいませんか？**

#### Next: Alexa-Hosted のコードをレビューしデプロイする
[![次](https://m.media-amazon.com/images/G/01/mobile-apps/dex/alexa/alexa-skills-kit/tutorials/general/buttons/next._TTH_.png)](./2-create-alexa-hosted-function.md)